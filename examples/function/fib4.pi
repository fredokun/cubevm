
def Fib(n,acc,res) = if n=1 then res!acc+1 else if n=2 then res!1+acc
                 else new(r1),new(r2),
                    [ Fib(n-2,0,r1) || r1?(v),Fib(n-1,v,r2) || r2?(v2),res!v2 ] ;

new(r), [ Fib(20,0,r) || r?(v),#print("Result is : "),#print(v),#println("") ]